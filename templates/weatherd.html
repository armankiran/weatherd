{% extends "layout.html" %}

{% block title %}
    weather
{% endblock %}

{% block main %}

<body>
    <main>
        {% if rain == True %}
            <div class="alert alert-primary" role="alert">
                It's raining in {{ location.city }}, {{ location.country }}, {{ postcode }} :(
            </div>
        {% else %}
            <div class="alert alert-warning" role="alert">
                It's not raining in {{ location.city }}, {{ location.country }}, {{ postcode }} :)
            </div>
        {% endif %}
        <div class="container">
        <div class="row">
            <div class="table-responsive col-md-3">
                <table>
                    <thead>
                        <tr>
                            <th>Temp {{ weather.temp | round }}&#8451, {{weather.main}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>UK average</td>
                            <td>{{ average_temp | round}}&#8451</td>
                        </tr>
                        <tr>
                            <td>{{ word.word | title }}</td>
                        </tr>
                        <tr>
                            <td>adjective</td>
                        </tr>
                        <tr>
                            <td>Definitions</td>
                        </tr>

                        {# list all definitions
                        {% for definition in word.definitions %}
                        <tr>
                            <td>{{ definition.definition }}</td>
                        </tr>
                        {% endfor %}
                        #}
                    </tbody>
                </table>
                <span>{{ word.definitions[0].definition }}</span><br>
                {% if word.definitions | length > 1 %}
                <span>{{ word.definitions[1].definition }}</span>
                {% endif %}
            </div>
            <div class="table-responsive col-md-3">
                <table>
                    <thead>
                        <tr>
                            <th>Cities without rain</th>
                        </tr>
                    </thead>
                    <tbody>

                        {% for city in city_rain_list %}
                        <tr> 
                            <td>{{ city[0] }}, {{ city[1] }}</td>
                            <td>{{ city[2] }}&#8451</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="table-responsive col-md-3">
                <table>
                    <thead>
                        <tr>
                            <th>Cocktail</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="font-size: 20px;">{{ drink.name }}</td>
                        </tr>
                        <tr>
                            <td> {{ drink.category }} </td>
                        </tr>
                        <tr>
                            <td> {{ drink.glass }}</td>
                        </tr>
                        <tr>
                            <td>Ingredients</td>
                        </tr>
                        {% for ingredient, measure in drink.ingredients.items() %}
                            <tr> 
                                <td>{{ ingredient }}: {{ measure }}</td> 
                            </tr>
                        {% endfor %}
                        <tr>
                            <td> {{ drink.instructions }} </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="table-responsive col-md-3">
                <table>
                    <thead>
                        <tr>
                            <th>Pubs around you</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for pub in pubs %}
                            <tr> 
                                <td>{{ pub[2] }}: {{ pub[3] }}</td> 
                            </tr>
                        {% endfor %}
                </table>
            </div>
            <div class="table-responsive col-md-3">
                <table>
                    <thead>
                        <tr>
                            <th>Random useless fact</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{ fact }}</td>
                        </tr>
                </table>
            </div>
        </div>
    </div>
    </main>
</body>

{% endblock %}